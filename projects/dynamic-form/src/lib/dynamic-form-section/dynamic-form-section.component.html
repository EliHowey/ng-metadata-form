<ng-container *ngIf="form" [formGroup]="form">
    <ng-container [ngSwitch]="depth">
        <h2 *ngSwitchCase="2">{{ section.title }}</h2>
        <h3 *ngSwitchCase="3">{{ section.title }}</h3>
        <h4 *ngSwitchCase="4">{{ section.title }}</h4>
        <h5 *ngSwitchCase="5">{{ section.title }}</h5>
        <h6 *ngSwitchDefault>{{ section.title }}</h6>
    </ng-container>

    <ng-container *ngFor="let content of section.contents">
        <lib-dynamic-form-section
            *ngIf="metadataService.isSection(content)"
            [section]="content"
            [depth]="depth + 1"
        ></lib-dynamic-form-section>

        <lib-dynamic-form-question
            *ngIf="metadataService.isQuestion(content)"
            [question]="content"
        ></lib-dynamic-form-question>

        <lib-dynamic-form-control
            *ngIf="metadataService.isControl(content)"
            [form]="form"
            [control]="content"
        ></lib-dynamic-form-control>
    </ng-container>
</ng-container>
